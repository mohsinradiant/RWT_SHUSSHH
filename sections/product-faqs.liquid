{{ 'component-accordion.css' | asset_url | stylesheet_tag }}
{{ 'collapsible-content.css' | asset_url | stylesheet_tag }}

<div class="collapsible-content-wrapper-narrow">
  <div class="grid__item">
    {%- for faq in product.metafields.content.frequently_asked_questions.value -%}
      <div
        class="accordion content-container"
      >
        <details id="Details-{{ section.id }}">
          <summary id="Summary-{{ section.id }}">
            <h3 class="accordion__title inline-richtext h4">
              {{ faq.title }}
            </h3>
            <img src="https://cdn.shopify.com/s/files/1/0767/6297/2470/files/Group_336.png?v=1738191413">
          </summary>
          <div
            class="accordion__content rte"
            id="CollapsibleAccordion-{{ section.id }}"
            role="region"
            aria-labelledby="Summary-{{ section.id }}"
          >
            {{ faq.description | metafield_tag }}
          </div>
        </details>
      </div>
    {%- endfor -%}
  </div>
</div>
<style>
  .collapsible-content-wrapper-narrow .grid__item {
    width: 100% !important;
    max-width: 100% !important;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .collapsible-content-wrapper-narrow .accordion details {
    border: #00000030 solid 1px;
    padding: 15px;
    border-radius: 15px;
  }
  .collapsible-content-wrapper-narrow .accordion {
    border: none;
  }
  .accordion details[open] > summary img {
    transform: rotate(180deg);
  }
  .collapsible-content-wrapper-narrow .accordion details img {
    position: absolute;
    height: 26px;
    right: 10px;
    top: calc(50% - 13px);
  }
  .accordion summary {
    padding: 0 !important;
  }
  .accordion__content {
    padding: 0 !important;
    margin: 0 !important;
  }
  .collapsible-content-wrapper-narrow .metafield-rich_text_field p {
    margin-bottom: 0 !important;
  }
</style>
{% schema %}
{
  "name": "Product FAQs",
  "settings": [],
  "blocks": [],
  "presets": [
    {
      "name": "Product FAQs"
    }
  ]
}
{% endschema %}
